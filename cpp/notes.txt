В папке с HelloWorldJNI.java ввести команду для генерации *.h
javac -h . HelloWorldJNI.java

Компиляция
g++ -c -fPIC -I${JAVA_HOME}/include -I${JAVA_HOME}/include/linux ru_SilirdCo_ConnectCPPLib_jni_HelloWorldJNI.cpp -o ru_SilirdCo_ConnectCPPLib_jni_HelloWorldJNI.o

link
g++ -shared -fPIC -o libHello.so ru_SilirdCo_ConnectCPPLib_jni_HelloWorldJNI.o -lc


Компиляция динамической либы с++
g++ -c dynamic.cpp

link
g++ -shared -fPIC -o dynamic.so dynamic.o

Связка программы или библиотеки с библиотекой
g++ main.o ./dynamic.so